<style></style>
<template>
    <field></field>
</template>
<script>
    export default class extends `./flowscript` {

        connectedCallback() {
            const src = this.src
            Promise.resolve(src ? fetch(src).then(r => r.text()) : this.textContent)
                .then(text => this.#readText(text.trim())).then(script => this.compile(script))
                .then((app) => this.load(app.handlers, app.fieldNames, app.cellNames, app.statements))
                .then(() => this.run())
        }

        async #readText(text) {
            const splitter = /\n\s*\n/gm
        }

    }
</script>